<launch>
<!-- %%%%%%%%%% ATOM Calibration Framework %%%%%%%%%%%%%%-->
<!-- set_initial_estimate.launch: runs bringup for initial parameter setting through rviz interactive markers-->
<!-- This file was generated automatically by the script configure_calibration_pkg on the 06/06/2020 01:17:19-->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%-->

<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%-->
<!-- Parameters-->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%-->
<arg name="config_file" default="$(find agrob_calibration)/calibration/config.yml"/>
<arg name="output_file" default="$(find agrob_calibration)/urdf/initial_estimate.urdf.xacro"/>
<arg name="rviz_file" default="$(find agrob_calibration)/rviz/set_initial_estimate.rviz"/>
<!-- arguments to be passed onto playbag.launch  -->
<arg name="bag_file" default="/home/mike/bagfiles/agrob_calibration_2020-05-20-12-2/calibration_2020-05-20-12-25-58_0.bag"/>
<arg name="bag_start" default="0"/>
<arg name ="bag_rate" default ="1" />

<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%-->
<!-- Call play bag launch file -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%-->
<include file="$(find agrob_calibration)/launch/playbag.launch">
   <arg name="rviz_file" value="$(arg rviz_file)"/>
   <arg name="bag_file" value="$(arg bag_file)"/>
   <arg name="bag_start" value="$(arg bag_start)"/>
   <arg name="bag_rate" value="$(arg bag_rate)"/>
</include>

<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%-->
<!-- Start set initial estimate node -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%-->
<node name="set_initial_estimate" pkg="atom_calibration" type="set_initial_estimate" args="-s 0.5 -f $(arg output_file) -c $(arg config_file)" required="true" output="screen"/>
 
</launch>